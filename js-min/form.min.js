"use strict";!function(){var e=["flat","house","bungalo","palace"],n=["12:00","13:00","14:00"],t=["1000","5000","0","10000"],o=["100","1","2","3"],i=[[0],[1],[1,2],[1,2,3]],r=function(e,n){e.value=n},c=function(e,n){e.min=n,r(e,n)},d=function(e,n){var t=[].slice.apply(e.querySelectorAll("option")),o=n.length;t.forEach(function(e,t){return 0===n[0]&&0===t?(e.disabled=!1,e.selected=!0,void(o=0)):t>0&&t<=o?(e.disabled=!1,void(e.selected=!0)):void(e.disabled=!0)})},l=function(){var e=document.querySelectorAll(".form__photo");Array.prototype.forEach.call(e,function(e){e.firstChild&&e.removeChild(e.firstChild)}),window.photosOfHouse=[],document.querySelector(".notice__preview img").src="img/muffin.png",document.querySelector(".pin__main img").src="img/main-pin-image.png"},u=function(){setTimeout(function(){f.reset(),l()},100)},a=function(e){e.style.borderColor="",e.validity.valid||(e.style.borderColor="#ff0000")},s=function(){a(m),a(v),a(w)},f=document.querySelector(".notice__form"),y=f.querySelector(".form__submit"),m=f.querySelector("#title"),v=f.querySelector("#address"),p=f.querySelector("#timein"),g=document.querySelector("#timeout"),h=f.querySelector("#type"),w=f.querySelector("#price"),q=f.querySelector("#room_number"),S=f.querySelector("#capacity");p.addEventListener("change",function(e){window.synchronizeFields(e.target,g,n,n,r)}),g.addEventListener("change",function(e){window.synchronizeFields(e.target,p,n,n,r)}),h.addEventListener("change",function(n){window.synchronizeFields(n.target,w,e,t,c)}),q.addEventListener("change",function(e){window.synchronizeFields(e.target,S,o,i,d)}),y.addEventListener("click",function(){s()}),f.addEventListener("submit",function(e){window.backend.save(new FormData(f),u,window.backend.displayError),e.preventDefault()})}();