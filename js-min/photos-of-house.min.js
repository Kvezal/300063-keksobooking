"use strict";!function(){var e=document.querySelector(".form__photo-container"),t=e.querySelector('input[type="file"]'),r=e.querySelectorAll(".form__photo"),n=function(t){for(var r=e.querySelectorAll("img"),n=0,a=r.length;n<a;n++)if(r[n].src===t)return!1;return!0},a=[];window.uploadPhoto(t,function(e){a.push(t.files[0]),a.forEach(function(e,r){t.files[r]=e});for(var o=0,l=r.length;o<l;o++)if(!r[o].firstChild){var i=document.createElement("img");if(i.src=e.result,!n(i.src))return;return void r[o].appendChild(i)}});var o;e.addEventListener("dragstart",function(e){"IMG"===e.target.tagName&&(o=e.target,e.dataTransfer.setData("text/plain",o))}),e.addEventListener("dragover",function(e){e.preventDefault()}),e.addEventListener("drop",function(e){var t=e.target;if("IMG"===t.tagName){var r=t.src;t.src=o.src,o.src=r,t=t.parentElement}t.style.backgroundColor="",t.style.outline="",!t.firstChild&&e.target.classList.contains("form__photo")&&t.appendChild(o),e.preventDefault()}),e.addEventListener("dragenter",function(e){var t=e.target;"IMG"===t.tagName&&((t=t.parentElement).style.outline="2px solid red"),!t.firstChild&&e.target.classList.contains("form__photo")&&(t.style.backgroundColor="yellow",t.style.outline="2px solid red"),e.preventDefault()}),e.addEventListener("dragleave",function(e){var t=e.target;"IMG"===t.tagName&&(t=t.parentElement),t.style.backgroundColor="",t.style.outline="",e.preventDefault()}),window.photosOfHouse=a}();